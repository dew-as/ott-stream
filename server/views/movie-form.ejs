<% title=movie ? "Edit Movie" : "Add New Movie" %>
    <div class="container mt-5">
        <h2 class="text-center mb-4">
            <%= movie ? "Edit Movie" : "Add New Movie" %>
        </h2>
        <form action="<%= movie ? `/movie/${movie._id}?_method=PUT` : '/movie' %>" method="POST"
            enctype="multipart/form-data">

            <!-- Title Field -->
            <div class="ant-form-item">
                <label for="title" class="ant-form-item-label"><span>Title</span></label>
                <div class="ant-form-item-control">
                    <input type="text" class="ant-input" id="title" name="title" placeholder="Enter movie title"
                        value="<%= movie ? movie.title : '' %>" required>
                </div>
            </div>

            <!-- Description Field -->
            <div class="ant-form-item">
                <label for="description" class="ant-form-item-label"><span>Description</span></label>
                <div class="ant-form-item-control">
                    <textarea class="ant-input" id="description" name="description" rows="4"
                        placeholder="Enter movie description" required><%= movie ? movie.description : '' %></textarea>
                </div>
            </div>

            <!-- Thumbnail Upload -->
            <div class="ant-form-item">
                <label for="thumbnail" class="ant-form-item-label"><span>Thumbnail Image</span></label>
                <div class="ant-form-item-control">
                    <input type="file" class="ant-input" id="thumbnail" name="thumbnail" <%=movie ? "" : "required" %>>
                    <% if (movie && movie.thumbnailUrl) { %>
                        <img src="<%= movie.thumbnailUrl %>" alt="Current Thumbnail" class="mt-2"
                            style="width: 150px; border-radius: 4px;">
                        <small class="ant-form-text">Current thumbnail image</small>
                        <% } %>
                </div>
            </div>

            <!-- Video Upload -->
            <div class="ant-form-item">
                <label for="vdo" class="ant-form-item-label"><span>Video File</span></label>
                <div class="ant-form-item-control">
                    <input type="file" class="ant-input" id="vdo" name="vdo" <%=movie ? "" : "required" %>>
                    <% if (movie && movie.videoUrl) { %>
                        <video width="320" height="240" controls class="mt-2" style="border-radius: 4px;">
                            <source src="<%= movie.videoUrl %>" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <small class="ant-form-text">Current video file</small>
                        <% } %>
                </div>
            </div>

            <!-- Submit and Cancel Buttons -->
            <div class="ant-form-item">
                <button type="submit" class="ant-btn ant-btn-primary ant-btn-block">
                    <%= movie ? "Update Movie" : "Add Movie" %>
                </button>
                <% if (movie) { %>
                    <a href="/movie/<%= movie._id %>" class="ant-btn ant-btn-secondary ant-btn-block mt-2">Cancel</a>
                    <% } %>
            </div>
        </form>
    </div>